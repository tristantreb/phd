%!TEX root = ../thesis.tex
% ******************************* Thesis Appendix A ****************************
\chapter{Multiplying two uniformly distributed random variables} \label{sec:mult_uniforms}

Let use define two uniformly distributed random variable: $X\sim U(a,b)$, $Y\sim U(c,d)$, with $a, b, c, d \in \mathbb{R_+}$. Let us define a dependent random variable $Z = X\cdot (1-Y)$ . The distribution of $Z$ is the convolution of $X$ and $Y$given by:
\begin{equation}
    f_Z(z)=\int_{-\infty}^{\infty} \frac{1}{|y|}\cdot f_X(z/y)\cdot  f_Y(y)\,dy
\end{equation}
Knowing the probability density function of a random variable following a uniform distribution: 
\begin{equation}
    f_X(x)=\frac{1}{b-a}\cdot \mathbb{1}_{(a,b)} \text{, with the indicator function $\mathbb{1}$ on the interval $(a,b)$ }
\end{equation}
We obtain:
\begin{equation} \label{eq:convolution}
    f_Z(z)=\frac{1}{(b-a)(d-c)}\int_{c}^{d} \frac{1}{|y|} \ \mathbb{1}_{\ a\ \leq\ z/y\ \leq\ b}\,dy
\end{equation}
For each increment $dy$ , the following two inequalities must simultaneously hold:
\begin{subnumcases}{}
c\leq y\leq d \text{, for the integral to be defined} \label{eq:int_boundary}
\\
a\cdot y\leq z\leq b\cdot y \text{, for the integral to be nonzero} \label{eq:int_nonzero}
\end{subnumcases}

With (\ref{eq:int_boundary}); $a\cdot$(\ref{eq:int_nonzero}): $a\cdot c\leq a\cdot y\leq a\cdot d$;  $b\cdot$ (\ref{eq:int_nonzero}): $b\cdot c\leq b\cdot y\leq b\cdot d$, the integral is defined and nonzero when:
\begin{equation} \label{eq:inequality}
    a\cdot c\leq \boldsymbol{a\cdot y}\leq a\cdot  d\leq \boldsymbol{z}\leq c\cdot b\leq \boldsymbol{b\cdot y}\leq b\cdot d
\end{equation}

We then resolve the integral in \ref{eq:convolution}:
\begin{equation}
f_Z(z) = 
\begin{cases}    
  \frac{1}{(b-a)(d-c)}\int_{c}^{z/a} \frac{1}{|y|}\,dy \text{, for $a\cdot c\le z\le a\cdot d$}\\
  \frac{1}{(b-a)(d-c)}\int_{c}^{d} \frac{1}{|y|}\,dy \text{, for $a\cdot d< z< c\cdot b$}\\
  \frac{1}{(b-a)(d-c)}\int_{z/b}^{d} \frac{1}{|y|}\,dy \text{, for $c\cdot b\le z\le b\cdot d$}\\
\end{cases}
\text{, when $a\cdot d \le c\cdot b$}
\end{equation}
This result in \textbf{the closed form solution for the multiplication of two uniformly distributed random variables.}
\begin{equation}
f_Z(z) = 
\begin{cases}    
  log(\frac{z}{a\cdot c}) \text{, for $a\cdot c\le z\le a\cdot d$}\\
  log(\frac{d}{c}) \text{, for $a\cdot d< z< c\cdot b$}\\
  log(\frac{d\cdot b}{z}) \text{, for $c\cdot b\le z\le b\cdot d$}\\
\end{cases}
\text{, when $a\cdot d \le c\cdot b$}
\end{equation}
Note: When $a\cdot d > c\cdot b$, the second term of the closed form solution gest more complex because of overlapping intervals. The solution can be found by swapping the variables $X$ and $Y$ to come back to the case where with $a\cdot d \le c\cdot b$.

% \pagebreak